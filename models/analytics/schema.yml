version: 2

models:
  - name: product_performance
    description: Product performance analysis including sales and inventory metrics
    columns:
      - name: product_id
        description: Product identifier
        tests:
          - not_null
          - unique
      - name: total_revenue
        description: Total revenue generated by the product
      - name: total_profit
        description: Total profit generated by the product
      - name: profit_margin
        description: Profit margin as a percentage of revenue
      - name: inventory_turnover
        description: Rate at which inventory is sold

  - name: customer_segmentation
    description: Customer segmentation analysis based on purchase behavior
    columns:
      - name: customer_key
        description: Customer dimension key
        tests:
          - not_null
          - unique
      - name: total_spend
        description: Total amount spent by the customer
      - name: customer_value_segment
        description: Customer value segment (High/Medium/Low Value)
      - name: recency_segment
        description: Recency segment based on last purchase date

  - name: sales_by_region
    description: Regional sales analysis with growth metrics
    columns:
      - name: country
        description: Country where sales occurred
      - name: state
        description: State/province where sales occurred
      - name: total_sales
        description: Total sales amount for the region and period
      - name: year_over_year_growth
        description: Year-over-year growth percentage

  - name: inventory_analysis
    description: Inventory status and movement analysis
    columns:
      - name: product_id
        description: Product identifier
      - name: quantity_available
        description: Current available quantity
      - name: days_of_supply
        description: Estimated days of inventory supply at current sales rate
      - name: inventory_status
        description: Current inventory status (Reorder/Low Stock/Adequate/Overstocked)
      - name: inventory_velocity
        description: Inventory movement classification
  - name: campaign_performance
    description: Campaign performance analysis with key metrics
    columns:
      - name: campaign_key
        description: Foreign key to campaign dimension
        tests:
          - not_null
      - name: campaign_name
        description: Name of the campaign
      - name: objective
        description: Campaign objective
      - name: impressions
        description: Total impressions for the campaign
      - name: clicks
        description: Total clicks for the campaign
      - name: spend
        description: Total spend for the campaign
      - name: conversions
        description: Total conversions for the campaign
      - name: ctr
        description: Click-through rate for the campaign
      - name: cpc
        description: Cost per click for the campaign
      - name: cost_per_conversion
        description: Average cost per conversion
      - name: roas
        description: Return on ad spend

  - name: ad_effectiveness
    description: Analysis of ad effectiveness with performance metrics
    columns:
      - name: ad_key
        description: Foreign key to ad dimension
        tests:
          - not_null
      - name: ad_name
        description: Name of the ad
      - name: ad_type
        description: Type of ad
      - name: impressions
        description: Total impressions for the ad
      - name: clicks
        description: Total clicks for the ad
      - name: ctr
        description: Click-through rate for the ad
      - name: effectiveness_score
        description: Custom score measuring overall ad effectiveness
      - name: effectiveness_tier
        description: Performance tier based on effectiveness score

  - name: targeting_analysis
    description: Analysis of targeting parameters and their effectiveness
    columns:
      - name: adset_key
        description: Foreign key to ad set dimension
        tests:
          - not_null
      - name: age_range
        description: Age range for targeting
      - name: targeting_gender
        description: Gender targeting
      - name: targeting_interests
        description: Interest-based targeting
      - name: impressions
        description: Total impressions
      - name: conversions
        description: Total conversions
      - name: roas
        description: Return on ad spend
      - name: targeting_effectiveness_score
        description: Score measuring targeting effectiveness

  - name: budget_utilization
    description: Analysis of budget utilization and efficiency
    columns:
      - name: campaign_key
        description: Foreign key to campaign dimension
        tests:
          - not_null
      - name: campaign_name
        description: Name of the campaign
      - name: daily_amount_spent
        description: Amount spent on a given day
      - name: total_daily_budget
        description: Total budget for the day
      - name: avg_budget_utilization
        description: Average budget utilization percentage
      - name: budget_efficiency_rating
        description: Rating of budget efficiency
      - name: budget_recommendation
        description: Recommendation for budget adjustment